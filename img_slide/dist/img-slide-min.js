!function($,factory){if("function"==typeof define)define.amd?define(["jQuery"],function(jQuery){return factory(jQuery||$)}):define(function(require,exports,module){var jq=require("jQuery")||$;module.exports=factory(jq)});else{if("object"!=typeof module||!module.exports)return factory($),$;module.exports=factory($)}}(jQuery,function($){"use strict";function ImgSlide(ele,config){this.$container=ele,this.options=$.extend({},defaults,config),this.init(),this.openInterval()}function _getAni(ani){var tmp=[],result={};return ani&&"[object String]"===Object.prototype.toString.call(ani)?(tmp=ani.split(","),tmp.length>1?(result.ina=tmp[0],result.out=tmp[1]):1==tmp.length?(result.ina=tmp[0],result.out=tmp[0]):(result.ina=!1,result.out=!1)):(result.ina=!1,result.out=!1),result}function _slideHandle(slide,type,init){var _handle={custom:function(){init?slide.css({position:"absolute",visibility:"visible",left:0,top:0}):slide.css({position:"absolute",visibility:"hidden",left:0,top:0})},slide:function(){init?slide.css({position:"absolute",visibility:"visible",left:0,top:0}):slide.css({visibility:"hidden",zIndex:0})},fade:function(){slide.css({position:"absolute",visibility:"hidden",left:0,top:0,opacity:0,zIndex:0}),init&&slide.css({visibility:"visible",opacity:1,zIndex:1})}};switch(type){case"custom":_handle.custom();break;case"slide":_handle.slide();break;case"fade":_handle.fade();break;default:_handle.slide()}}var defaults={slider:".slide-item",timeCyc:2e3,animation:"slide",switchSpeed:600,easing:"",beforeSwitch:function(){},afterSitch:function(){}};ImgSlide.prototype.init=function(){var that=this,$container=that.$container,ops=that.options,slides=[];$container.find(ops.slider).each(function(i,ele){var $ele=$(ele),ani=_getAni($ele.data("slideAni"));_slideHandle($ele,ops.animation,0==i),slides.push({ele:ele,ina:ani.ina,out:ani.out})}),that.slideLength=slides.length,that.direction=1,that.intervalId=void 0,that.offset=$container.width(),that.index=0,that.nextIndex=0,that.slides=slides,that.isMoving=!1},ImgSlide.prototype.pre=function(){var that=this;that.stopInterval(),that.direction=-1,that.moveTo(),that.openInterval()},ImgSlide.prototype.next=function(){var that=this;that.stopInterval(),that.direction=1,that.moveTo(),that.openInterval()},ImgSlide.prototype.goTo=function(index){var that=this;that.slideLength;index>that.slideLength-1||index<0||(that.stopInterval(),that.nextIndex=index,index>=that.index?that.direction=1:that.direction=-1,that.moveTo(!0),that.openInterval())},ImgSlide.prototype.calculateNext=function(){var next,that=this,slideLength=(that.options,that.slideLength),direction=that.direction;next=that.index+1*direction,that.nextIndex=next<slideLength&&next>-1?next:next<0?slideLength-1:0},ImgSlide.prototype.moveTo=function(fast){var that=this,ops=that.options;that.isMoving||(that.isMoving=!0,!fast&&that.calculateNext(),"function"==typeof ops.beforeSwitch&&ops.beforeSwitch.call(that),that[ops.animation]&&"function"==typeof that[ops.animation]?that[ops.animation]():that.slide(),"function"==typeof ops.afterSwitch&&ops.afterSwitch.call(that))},ImgSlide.prototype.fade=function(){var that=this,ops=that.options,easing=ops.easing,slides=that.slides,curSlide=slides[that.index],nextSlide=slides[that.nextIndex];that.index!=that.nextIndex&&($(nextSlide.ele).css({visibility:"visible"}),$(curSlide.ele).animate({opacity:0},ops.switchSpeed,easing,function(){$(curSlide.ele).css({visibility:"hidden",zIndex:0})}),$(nextSlide.ele).animate({opacity:1},ops.switchSpeed,easing,function(){$(nextSlide.ele).css({zIndex:1}),that.isMoving=!1}),that.index=that.nextIndex)},ImgSlide.prototype.slide=function(){var that=this,ops=that.options,easing=ops.easing,slides=that.slides,curSlide=slides[that.index],nextSlide=slides[that.nextIndex],direction=that.direction;that.index!=that.nextIndex&&($(nextSlide.ele).css({position:"absolute",left:direction*that.offset,top:0,visibility:"visible"}),$(curSlide.ele).animate({left:-1*that.offset*direction,visibility:"visible"},ops.switchSpeed,easing,function(){$(curSlide.ele).css({visibility:"hidden",left:"auto"})}),$(nextSlide.ele).animate({left:0},ops.switchSpeed,easing,function(){that.isMoving=!1}),that.index=that.nextIndex)},ImgSlide.prototype.custom=function(){var that=this,ops=that.options,slides=that.slides,curSlide=slides[that.index],nextSlide=slides[that.nextIndex];that.index!=that.nextIndex&&($(nextSlide.ele).css({visibility:"visible"}).removeClass(nextSlide.out).addClass(nextSlide.ina),$(curSlide.ele).removeClass(curSlide.ina).addClass(curSlide.out),that.index=that.nextIndex,setTimeout(function(){that.isMoving=!1,$(curSlide.ele).css({visibility:"hidden"})},ops.switchSpeed))},ImgSlide.prototype.openInterval=function(){var that=this,ops=that.options;that.intervalId||(that.intervalId=setInterval(function(){that.direction=1,that.moveTo()},ops.timeCyc))},ImgSlide.prototype.stopInterval=function(){var that=this;that.options;window.clearInterval(that.intervalId),that.intervalId=void 0};var public_method=["moveTo","pre","next","goTo"];$.fn.imgSlide=function(config,param){return this.each(function(){var slider=$.data(this,"slider");if(!slider)return $.data(this,"slider",new ImgSlide($(this),config));"string"==typeof config&&public_method.join(",").indexOf(config)>-1&&"function"==typeof slider[config]&&slider[config](param)})}});