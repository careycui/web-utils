!function(e,n){if("function"==typeof define&&define.amd)define.amd?define(["jQuery"],function(){return n(jQuery)}):define(function(e,o,t){var i=e("jQuery");t.exports=n(i)});else{if("object"!=typeof module||!module.exports)return n(e),e;module.exports=n(e)}}(jQuery,function(e){"use strict";function n(n,o){this.me=n,this.options=e.extend({},o,i),this.init(),this.renderHtml(),this.bindEvent()}var o=!1,t=void 0,i={sectionPanel:".panel",scrollSpeed:1e3,nav:!1,scrollbar:!1,keyAble:!1},l=function(e,n){console.log(e,n);var o=e.find(n);return o.length<1&&(o=[]),o},r=function(n,o){var t,i=[],l=0;for(l;l<n.length;l++)t=e(n[l]),i.push({height:t.data("slideHeight")||o});return i};n.prototype.init=function(){var e=this,n=e.me,o=e.options,t=this.panels=l(n,o.sectionPanel);this.configs=r(t,n.height()),this.curIndex=o.curIndex||0,this.nextIndex=void 0,this.ifMoving=!1},n.prototype.renderHtml=function(){var n=this,o=n.me,t=(n.ops,n.panels),i=n.configs,l=0;for(l;l<t.length;l++)e(t[l]).height(i[l].height),i[l].scrollTop=e(t[l]).offset().top;o.css({overflow:"hidden"})},n.prototype.bindEvent=function(){var n=this,i={handleMouseDown:function(){o=!1},handleMouseUp:function(){o=!0},handleScroll:function(){t&&clearTimeout(t),t=setTimeout(function(){if(!1===o)return!1;o=!1,i.calculateNearst()},160)},calculateNearst:function(){var o,t=e(window).scrollTop(),i=(n.panels,n.configs),l=1,r=Math.abs(i[0].scrollTop-t),s=0;for(l;l<i.length;l++)(o=Math.abs(i[l].scrollTop-t))<r&&(r=o,s=l);n.animateScrollTo(s)},wheelHandler:function(e,o){e.preventDefault(),o=o||-e.originalEvent.detail/3||e.originalEvent.wheelDelta/120,t&&clearTimeout(t),t=setTimeout(function(){if(o<0){if(n.curIndex>=n.panels.length-1)return;n.curIndex++}else if(o>0){if(n.curIndex<=0)return;n.curIndex--}else n.curIndex=0;n.animateScrollTo(n.curIndex)},160)},init:function(){n.ops.scrollbar?(e(window).off("mousedown mouseup scroll"),e(window).on("mousedown",i.handleMousedown),e(window).on("mouseup",i.handleMouseup),e(window).on("scroll",i.handleScroll)):e("body").css({overflow:"hidden"}),e(document).off("DOMMouseScroll mousewheel"),e(document).on("DOMMouseScroll mousewheel",i.wheelHandler)}};i.init()},n.prototype.animateScrollTo=function(n){var o=this,t=o.options,i=o.configs;i[n]&&e("html,body").animate({scrollTop:i[n].scrollTop},t.scrollSpeed)},e.fn.ysSlide=function(o,t){var i=this;return this.each(function(){var l=e.data(i,"ysSlide");l||(l=new n(i,o),e.data(e(i),"ysSlide",l)),"string"==typeof o&&"function"==typeof l[o]&&l[o].call(l,t)})}});